[gd_scene load_steps=30 format=3 uid="uid://b3js78mrojcx3"]

[ext_resource type="Script" path="res://test/wind_tunnel.gd" id="1_v41tk"]
[ext_resource type="PackedScene" uid="uid://bwakn6mbahvff" path="res://entities/physics/model_rocket.tscn" id="2_r5jnx"]
[ext_resource type="PackedScene" uid="uid://cvhn3mqksstog" path="res://entities/props/platform_square.tscn" id="3_1pjwa"]
[ext_resource type="PackedScene" uid="uid://cxb5g7nayr3ct" path="res://entities/props/lamp.tscn" id="4_m7eqb"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ingqa"]
height = 11.023
radius = 6.23749

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_qe8rb"]
emission_shape = 6
emission_ring_axis = Vector3(0, 1, 0)
emission_ring_height = 1.0
emission_ring_radius = 5.0
emission_ring_inner_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 7.26
gravity = Vector3(0, -0.1, 0)
angular_velocity_min = -2.0
angular_velocity_max = 2.0
angle_min = -720.0
angle_max = 418.1
scale_min = 0.1
scale_max = 0.2
collision_mode = 1
collision_friction = 0.0
collision_bounce = 0.36

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_642qc"]
cull_mode = 2

[sub_resource type="QuadMesh" id="QuadMesh_2nwfs"]
material = SubResource("StandardMaterial3D_642qc")

[sub_resource type="SphereShape3D" id="SphereShape3D_ywpel"]

[sub_resource type="SphereMesh" id="SphereMesh_c6qvy"]

[sub_resource type="SphereShape3D" id="SphereShape3D_as8c5"]
radius = 0.2

[sub_resource type="SphereMesh" id="SphereMesh_5bocq"]
radius = 0.2
height = 0.4

[sub_resource type="SphereShape3D" id="SphereShape3D_tsihb"]
radius = 0.35

[sub_resource type="SphereMesh" id="SphereMesh_a42p0"]
radius = 0.35
height = 0.7

[sub_resource type="CylinderShape3D" id="CylinderShape3D_vvius"]
radius = 0.25

[sub_resource type="CylinderMesh" id="CylinderMesh_l47vh"]
top_radius = 0.25
bottom_radius = 0.25

[sub_resource type="SphereShape3D" id="SphereShape3D_bgt5o"]
radius = 0.75

[sub_resource type="SphereMesh" id="SphereMesh_gmac2"]
radius = 0.75
height = 1.5

[sub_resource type="BoxShape3D" id="BoxShape3D_qtsok"]

[sub_resource type="BoxMesh" id="BoxMesh_d5nm3"]

[sub_resource type="CylinderMesh" id="CylinderMesh_6avox"]
top_radius = 0.1
bottom_radius = 1.0
radial_segments = 8
rings = 1

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hf0kc"]
points = PackedVector3Array(0.0998434, 1, 0, 1, -1, 0, 0.0706735, 1, -0.0708692, 0.0706735, 1, 0.0706735, 0.70693, -1, 0.70693, 0.70693, -1, -0.707126, 0, 1, -0.100039, 0, 0, -0.550117, 0, 1, 0.0998434, 0, -1, 1, 0, -1, -1, -0.0708692, 1, -0.0708692, -0.707126, -1, -0.707126, -0.0708692, 1, 0.0706735, -0.707126, -1, 0.70693, -0.550117, 0, 0, -0.100039, 1, 0, -1, -1, 0)

[sub_resource type="CylinderMesh" id="CylinderMesh_2e6y5"]
top_radius = 0.1
height = 1.0
radial_segments = 8
rings = 1

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fw4nv"]
points = PackedVector3Array(0.0999413, 0.5, 0, 0.5, -0.5, 0, 0.0706735, 0.5, -0.0707713, 0.0706735, 0.5, 0.0706735, 0.353465, -0.5, -0.353563, 0.212118, 0, -0.212216, 0.212118, 0, 0.212118, 0.353465, -0.5, 0.353465, 0, 0.5, -0.100039, 0, 0.5, 0.0999413, 0, -0.5, 0.5, 0, -0.5, -0.5, -0.0707713, 0.5, -0.0707713, -0.0707713, 0.5, 0.0706735, -0.212216, 0, 0.212118, -0.353563, -0.5, 0.353465, -0.353563, -0.5, -0.353563, -0.212216, 0, -0.212216, -0.5, -0.5, 0, -0.100039, 0.5, 0)

[sub_resource type="TorusMesh" id="TorusMesh_yrvm8"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_5yff2"]
points = PackedVector3Array(0.723553, 0.0720474, 0.671322, 0.476374, -0.0753254, 0, 0.476374, 0.0833147, 0, 0.00636175, -0.098996, 0.97892, -0.031746, 0.273809, 0.666642, 0.879788, -0.211497, 0.0482708, 0.790591, 0.245749, 0.0528205, -0.031746, -0.234124, 0.571379, 0.559807, -0.226638, 0.643566, 0.424068, 0.208201, 0.780208, 0.634911, -0.265873, 0, 0.971149, -0.0395168, 0.217627, -0.031746, 0.0833147, 0.476215, 0.666496, 0.273809, 0, 0.217691, 0.0472995, 0.970348, 0.973407, 0.106057, 0.0411791, 0.670221, 0.237087, 0.480532, 0.613401, -0.117322, 0.750522, 0.022158, -0.238104, 0.82114, 0.0189173, 0.190354, 0.909349, 0.804606, -0.145548, 0.507937, 0.867514, 0.156968, 0.36886, 0.311919, -0.148548, 0.896137, -0.031746, -0.265873, 0.634821, 0.4782, 0.0460241, 0.872566, -0.031746, -0.0753254, 0.476215, 0.839088, -0.0376277, 0.535689, 0.782843, -0.231537, 0.314056, -0.031746, 0.146813, 0.507937, 0.977422, -0.0989233, 0.0372856, 0.539543, -0.202322, 0, 0.611879, 0.177041, 0.694266)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_du6ji"]
points = PackedVector3Array(-0.970668, -0.0392084, 0.219686, -0.0634406, 0.0782038, 0.983156, -0.19342, 0.0758094, 0.967828, -0.666477, 0.273809, 0, -0.031746, -0.265873, 0.634821, -0.634784, -0.265873, 0, -0.031746, 0.0833147, 0.476215, -0.564602, -0.200124, 0.698361, -0.695104, 0.175263, 0.613269, -0.031746, 0.273809, 0.666642, -0.476222, -0.0753254, 0, -0.973592, 0.105518, 0.0436451, -0.076187, -0.154857, 0.941052, -0.618919, -0.0367792, 0.77997, -0.881341, -0.210618, 0.050146, -0.316723, 0.238724, 0.756393, -0.701404, -0.228277, 0.480635, -0.508011, 0.146813, 0, -0.813652, 0.211071, 0.342295, -0.839345, -0.0371437, 0.535366, -0.031746, -0.170626, 0.507937, -0.428269, 0.12684, 0.862908, -0.399255, -0.0929769, 0.895912, -0.316689, -0.230826, 0.784122, -0.86695, 0.100066, 0.453059, -0.863495, -0.145535, 0.399287, -0.081532, 0.189434, 0.907368, -0.673922, 0.236155, 0.480642, -0.977567, -0.0984301, 0.0395416, -0.539608, -0.202322, 0, -0.644086, 0.0708616, 0.748704, -0.90889, 0.189409, 0.051452)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_1yg55"]
points = PackedVector3Array(0.970921, -0.0393685, -0.218617, 0.038378, -0.0986845, -0.977495, 0.0423851, 0.105793, -0.973488, 0.476215, -0.0753254, 0, 0.666642, 0.273809, 0, 0, 0.146813, -0.507937, 0, -0.265873, -0.634821, 0.614531, 0.150643, -0.721209, 0.699744, -0.229019, -0.480548, 0.634821, -0.265873, 0, 0, 0.273809, -0.666642, 0.561921, -0.0905198, -0.805018, 0.973507, 0.105797, -0.0423664, 0.779618, 0.207759, -0.426483, 0.314454, -0.231054, -0.78439, 0.880598, -0.211039, -0.0492483, 0.314488, 0.238949, -0.756631, 0.83922, -0.0373881, -0.535529, 0, -0.202322, -0.539658, 0.337009, 0.0466918, -0.935301, 0.507937, 0.146813, 0, 0.866788, 0.100574, -0.452769, 0, 0.0833147, -0.476215, 0.863073, -0.146283, -0.398743, 0.589313, 0.234716, -0.589313, 0.97749, -0.0986833, -0.0383835, 0.141832, 0.187026, -0.902183, 0.902172, 0.187021, -0.141842, 0.643626, -0.172405, -0.670747, 0.314191, -0.148303, -0.895514, 0.0492489, -0.211039, -0.880598, 0.616888, 0.0448384, -0.780486)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fe2s2"]
points = PackedVector3Array(-0.96997, 0.0472641, -0.219211, -0.218617, -0.0393685, -0.970921, -0.219211, 0.047264, -0.969969, -0.476215, -0.0753254, 0, 0, 0.273809, -0.666642, 0, -0.265873, -0.634821, -0.78439, -0.231054, -0.314454, -0.666642, 0.273809, 0, -0.667705, 0.17709, -0.641091, -0.634821, -0.265873, 0, -0.588481, -0.143805, -0.749655, 0, 0.0833147, -0.476215, -0.977495, -0.0986845, -0.038378, -0.0445871, -0.1553, -0.942259, -0.865257, -0.0646895, -0.48047, -0.0502594, 0.189894, -0.908359, -0.314454, -0.231054, -0.78439, -0.908355, 0.189892, -0.0502647, -0.589313, 0.234716, -0.589313, -0.616888, 0.0448384, -0.780486, -0.507937, 0.146813, 0, 0, -0.202322, -0.539658, -0.426483, 0.207759, -0.779618, -0.863855, 0.127167, -0.425861, -0.756631, 0.238949, -0.314488, -0.699746, -0.229021, -0.480547, -0.39686, -0.0932398, -0.896965, -0.880598, -0.211039, -0.0492489, -0.0423664, 0.105797, -0.973507, -0.895514, -0.148303, -0.314191, 0, 0.24206, -0.6031, 0, -0.0753254, -0.476215)

[node name="wind_tunnel" type="Node3D"]

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.19593, 0)
use_collision = true
flip_faces = true
radius = 5.03081
height = 10.8562

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.5, 0.866025, 0, -0.866025, 0.5, 0, 0, 0)
shadow_enabled = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.946085, 0.323917, 0, -0.323917, 0.946085, 0, 9.583, 14.674)
fov = 48.8

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 4
gravity_space_override = 2
angular_damp_space_override = 2
script = ExtResource("1_v41tk")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.21273, 0)
shape = SubResource("CylinderShape3D_ingqa")

[node name="GPUParticles3D" type="GPUParticles3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.361257, 0)
amount = 200
lifetime = 3.0
visibility_aabb = AABB(-6.8575, -2.01728, -5.72677, 13.715, 16.1508, 11.4535)
process_material = SubResource("ParticleProcessMaterial_qe8rb")
draw_pass_1 = SubResource("QuadMesh_2nwfs")

[node name="sphere" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.983399, 0)
collision_layer = 5
mass = 6.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="sphere"]
shape = SubResource("SphereShape3D_ywpel")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sphere/CollisionShape3D"]
mesh = SubResource("SphereMesh_c6qvy")

[node name="sphere2" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.590138, 0.9834, 1.22773)
collision_layer = 5
mass = 6.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="sphere2"]
shape = SubResource("SphereShape3D_as8c5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sphere2/CollisionShape3D"]
mesh = SubResource("SphereMesh_5bocq")

[node name="sphere4" type="RigidBody3D" parent="."]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, -0.929846, 0.9834, 0.371295)
collision_layer = 5
mass = 18.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="sphere4"]
shape = SubResource("SphereShape3D_tsihb")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sphere4/CollisionShape3D"]
mesh = SubResource("SphereMesh_a42p0")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="sphere4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.110987, 0.438712, 0.134938)
shape = SubResource("SphereShape3D_as8c5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sphere4/CollisionShape3D4"]
mesh = SubResource("SphereMesh_5bocq")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="sphere4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.110987, 0.782467, 0.245458)
shape = SubResource("SphereShape3D_as8c5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="sphere4/CollisionShape3D5"]
mesh = SubResource("SphereMesh_5bocq")

[node name="HSlider" type="HSlider" parent="."]
offset_left = 103.0
offset_top = 110.0
offset_right = 903.0
offset_bottom = 126.0
max_value = 50.0
step = 0.1

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(0.96806, 0.250718, 0, -0.250718, 0.96806, 0, 0, 0, 1, 1.39758, 1.94132, -0.738131)
collision_layer = 5
mass = 20.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("CylinderShape3D_vvius")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D/CollisionShape3D"]
mesh = SubResource("CylinderMesh_l47vh")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.05087, 0)
shape = SubResource("SphereShape3D_bgt5o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D/CollisionShape3D2"]
mesh = SubResource("SphereMesh_gmac2")

[node name="RigidBody3D2" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.18634, 0.466379, 0.359589)
collision_layer = 5
mass = 12.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D2"]
shape = SubResource("BoxShape3D_qtsok")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D2/CollisionShape3D"]
mesh = SubResource("BoxMesh_d5nm3")

[node name="platform_square" parent="." instance=ExtResource("3_1pjwa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.01366, 1.23488, -1.20009)

[node name="lamp" parent="." instance=ExtResource("4_m7eqb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.14436, 0.424162, 1.14132)

[node name="RigidBody3D3" type="RigidBody3D" parent="."]
transform = Transform3D(-0.420153, -0.74846, 0.513107, 0.872001, -0.489504, 0, 0.251168, 0.44743, 0.858325, 0.947203, 0.909482, 3.35872)
collision_layer = 5
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D3"]
mesh = SubResource("CylinderMesh_6avox")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D3"]
shape = SubResource("ConvexPolygonShape3D_hf0kc")

[node name="RigidBody3D4" type="RigidBody3D" parent="."]
transform = Transform3D(0.117883, 0.209996, 0.970569, 0.872001, -0.489504, -2.80818e-08, 0.475098, 0.846338, -0.240821, -0.420791, 0.909482, 2.77084)
collision_layer = 5
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D4"]
mesh = SubResource("CylinderMesh_2e6y5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D4"]
shape = SubResource("ConvexPolygonShape3D_fw4nv")

[node name="RigidBody3D5" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.11583, 0, 0.105835)
collision_layer = 5
mass = 6.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D5"]
mesh = SubResource("TorusMesh_yrvm8")

[node name="@CollisionShape3D@33098" type="CollisionShape3D" parent="RigidBody3D5"]
shape = SubResource("ConvexPolygonShape3D_5yff2")

[node name="@CollisionShape3D@33097" type="CollisionShape3D" parent="RigidBody3D5"]
shape = SubResource("ConvexPolygonShape3D_du6ji")

[node name="@CollisionShape3D@33096" type="CollisionShape3D" parent="RigidBody3D5"]
shape = SubResource("ConvexPolygonShape3D_1yg55")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D5"]
shape = SubResource("ConvexPolygonShape3D_fe2s2")

[node name="model_rocket" parent="." instance=ExtResource("2_r5jnx")]
transform = Transform3D(-0.192779, 0.981242, 0, -0.981242, -0.192779, 0, 0, 0, 1, -1.13666, 0.0507626, 2.02832)

[connection signal="value_changed" from="HSlider" to="Area3D" method="_on_slider_value_changed"]
